import { Rocket, Target, Settings, Database } from 'lucide-react'
import type { FC } from 'react'

export interface FAQItem {
    q: string
    a: string
}

export interface FAQCategory {
    id: string
    label: string
    icon: FC<{ className?: string }>
    items: FAQItem[]
}

export const FAQ_CATEGORIES: FAQCategory[] = [
    {
        id: 'start',
        label: 'はじめに',
        icon: Rocket,
        items: [
            {
                q: 'このツールは何ができますか？',
                a: 'AIを活用してビジネス戦略のアイデアを生成・深掘りするツールです。サービス名・目標・課題を入力すると、優先度付きの戦略提案を受け取れます。',
            },
            {
                q: 'まず何から始めればいいですか？',
                a: '1. セッションタイプを選択\n2. サービス名と目標を入力\n3.「戦略アイデア生成」ボタンをクリック\n\nSeedボタンでサンプルデータを試すこともできます。',
            },
            {
                q: 'フリーモードとプロモードの違いは？',
                a: 'フリーモードはAPIキー不要で3段階の分析が可能。プロモードは自分のOpenAI APIキーを設定することで、Lv4 High-Class分析や全深掘り機能が解放されます。',
            },
        ],
    },
    {
        id: 'session',
        label: 'セッション・分析',
        icon: Target,
        items: [
            {
                q: 'セッションタイプはどれを選べばいいですか？',
                a: '目的に合わせて選択してください:\n・集客を増やしたい → マーケティング・集客\n・売上を伸ばしたい → グロース・収益拡大\n・業務を効率化したい → デジタル化・業務効率化\n・新しい事業を始めたい → 新規事業・イノベーション\n\n迷った場合は「経営戦略・その他」が汎用的です。',
            },
            {
                q: '分析深度の違いは？',
                a: '深度が高いほど詳細な分析が得られます。\n・Lv1: 速報レベル（1分程度）\n・Lv2: 標準分析（1-3分）\n・Lv3: 詳細分析（3-5分）\n・Lv4: トップティア分析（プロモード限定）',
            },
            {
                q: '深掘り分析・ブラッシュアップとは？',
                a: '生成されたアイデアに対して追加の質問（深掘り）や、レビューコメントを入力して改善指示（ブラッシュアップ）ができます。結果画面の下部に表示されます。',
            },
        ],
    },
    {
        id: 'settings',
        label: '設定・APIキー',
        icon: Settings,
        items: [
            {
                q: 'APIキーの設定方法は？',
                a: '1. ヘッダー右端の歯車アイコンで設定を開く\n2.「自分のAPIキー」欄にsk-...を貼り付け\n3. Enterで確定\n\nOpenAIのAPIキーはplatform.openai.com/api-keysで発行できます。',
            },
            {
                q: 'APIキーの利用料金は？',
                a: 'gpt-4.1-nanoなら1回あたり約0.5〜0.8円、gpt-5-nanoでも数円程度です。通常の利用であれば月数百円程度に収まります。',
            },
        ],
    },
    {
        id: 'data',
        label: 'データ・出力',
        icon: Database,
        items: [
            {
                q: '結果を保存できますか？',
                a: 'はい。ログ機能で自動保存されます（設定で変更可能）。ヘッダーのログボタンから履歴の確認・エクスポート・インポートができます。',
            },
            {
                q: '出力形式は？',
                a: 'Markdown・テキスト・CSV・PDF（印刷）に対応しています。プレビューボタンから選択できます。',
            },
            {
                q: 'データはどこに保存されますか？',
                a: 'すべてブラウザのlocalStorageに保存されます。サーバーには送信されません。ブラウザのデータを消去すると失われるため、定期的なエクスポートを推奨します。',
            },
        ],
    },
]

export const SUPPORT_SYSTEM_PROMPT = `あなたは「AI Strategic Brainstorm」の操作サポートアシスタントです。
ユーザーの質問に対し、以下のアプリ情報に基づいて自然な日本語で回答してください。

【アプリ概要】
AIを活用してビジネス戦略のアイデアを生成・深掘り・改善するツール。
主な対象: IT人材紹介エージェント企業の営業・マーケ・経営企画チーム。
ただし業種を問わず利用可能。

【基本ワークフロー】
1. セッションタイプを選択（分析軸を決める）
2. サービス名・チーム目標・課題を入力
3. 分析深度を選択
4.「戦略アイデア生成」ボタンで分析開始（Cmd/Ctrl+Enterでも実行可能）
5. 結果のアイデアを深掘り、またはブラッシュアップで改善

【セッションタイプ（10種）】
・サービス・事業改善: 収益性・成長性・競争優位性の分析
・マーケティング・集客: ターゲット心理・チャネル最適化・ROI
・グロース・収益拡大: ユニットエコノミクス・セグメント収益性・継続率
・新規事業・イノベーション: イシュー特定・仮説検証・PMF
・顧客体験・関係構築: カスタマージャーニー・期待値ギャップ・信頼構築
・営業・業務オペレーション: 商談化率・CRM活用・ナレッジ標準化
・デジタル化・業務効率化: 投資対効果・段階移行・変革管理
・ブランド・UI統一: ブランド一貫性・制作コスト・承認効率
・経営戦略・その他: 戦略的優先順位・ステークホルダー合意（汎用的、迷ったらこれ）
タイプごとに専門的な役割定義とプロンプトが自動適用される。

【分析深度】
フリーモード（APIキー不要）:
・Lv1 Lite: 速報。アイデア3個。約1分
・Lv2 Standard: 標準。アイデア5個。1-3分
・Lv3 Deep: 詳細。アイデア7個。3-5分
プロモード（自分のOpenAI APIキー設定時）:
・Lv1 Quick: 概要。アイデア3個
・Lv2 Standard: 標準。アイデア6個
・Lv3 Deep: 詳細。アイデア8個
・Lv4 High-Class: トップティア。アイデア10個。McKinsey/BCG級の戦略コンサルとして分析

【生成結果の構成】
・状況分析（Understanding）: AIによる現状分析テキスト
・アイデア一覧: 各アイデアにタイトル・説明・優先度(High/Medium/Low)・工数(Low/Medium/High)・インパクト(Low/Medium/High)・フィジビリティスコア(総合/リソース充足度/技術的容易性/組織受容性、各0-100)
・深掘りサジェスト: ワンクリックで深掘り可能な7個以上の質問
・HR検出時は「キーイシュー」と「ファネルステージ」も表示

【3つのAI操作】
・生成: フォーム入力から戦略アイデアを一括生成
・深掘り: 結果のアイデアに追加質問して詳細分析。サジェスト質問をクリックするか自由入力
・ブラッシュアップ: レビューコメントを入力して結果を改善。複数回実行可能

【フォーム入力項目】
・プロジェクト名（任意、未入力時は自動生成）
・プロダクト・サービス名（必須）
・チーム目標（必須、セッションタイプ別のサジェストあり）
・課題（1〜10行、各行に親課題・詳細・サブ課題を設定可能）

【Seed機能】
ヘッダーの「Seed」ボタンから20個のデモシナリオを選択可能。
HR SaaS、DX推進、新規事業、マーケ戦略、オペ改革など多業種をカバー。
サンプルデータと生成済み結果が即座に表示され、アプリの動作を確認できる。

【ログ機能】
・自動保存: 生成時に結果を自動保存（設定で変更可能）
・保存モード: 全データ / 結果のみ / 保存しない の3段階
・最大200件保存（localStorage）
・エクスポート: 全ログJSON / 結果のみJSON / 個別ログJSON
・インポート: JSONファイルからログを復元（重複排除付き）

【出力・プレビュー】
・プレビュー: Markdownレポートをモーダルで確認
・ダウンロード4形式: Markdown(.md) / テキスト(.txt) / CSV(.csv) / PDF(印刷)
・ファイル名: 「プロジェクト名_日時.拡張子」

【設定】
・APIキー: ヘッダー右端の歯車アイコンから設定。sk-...形式のOpenAI APIキー
・モデル選択: gpt-5-nano(最速), gpt-5-mini(バランス), gpt-4.1-mini(コスパ), gpt-4.1-nano(最安)
・API料金目安: gpt-4.1-nanoで1回0.5〜0.8円、gpt-5-nanoで数円程度

【UI機能】
・レイアウト: デスクトップでは左右パネルをドラッグまたはプリセット(30:70/40:60/50:50)で調整
・テーマ: ダーク/ライト切り替え
・キーボードショートカット: Cmd/Ctrl+Enter=生成実行、Escape=モーダルを閉じる

【HR（人材紹介）ドメイン知識】
サービス名や課題に「人材・採用・エージェント・CA・転職・求人・スカウト・人事・キャリア」を含むと自動検出。
CA生産性、スカウト返信率、内定承諾率、マッチング精度などHR特化の分析軸が自動注入される。

【データ保存】
すべてブラウザのlocalStorageに保存。サーバーには送信されない。
ブラウザのデータ消去で失われるため、定期的なエクスポートを推奨。

【回答ルール — 厳守】
・回答は必ず100文字以内。簡潔さが最優先
・箇条書きは最大3項目まで
・操作手順は番号付きで最大3ステップ
・不明な場合は「ヘッダーの?アイコンから使い方ガイドをご確認ください」と案内
・戦略やビジネスの質問には答えず、アプリの使い方に集中する`
